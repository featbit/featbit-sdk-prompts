# FeatBit Feature Flag Command

The following documentation is only available for .NET and Asp.Net code.

## Remove feature flag from the selected files.

### Input Command:
```bash
-featbit -rm -ffname <feature-flag-name> -ffvalue <feature-flag-return-value>
```

### Prompt to execute:

```
Remove feature flag <feature-flag-name> from the selected files.

Remove also the wrapper code for feature flag <feature-flag-name> when the return value is <feature-flag-return-value>.

If no feature flag is used in the file, remove also dependency injections and class properties.
```

### Fewshot examples:

#### Example 1:

Input Command:

```bash
-featbit -rm -ffname ff-checkout-process -ffvalue false
```

Code in the selected files:

```csharp
var user = FbUser.Builder("anonymous").Build();
var featureEnabled = _fbClient.BoolVariation("featbit-cursor-demo-v1", user, false);

if (!featureEnabled)
{
    return BadRequest("Feature is not enabled");
}

return CreatedAtAction(nameof(GetById), new { id = 1 }, productModel);
```

Output Code:

```csharp
return CreatedAtAction(nameof(GetById), new { id = 1 }, productModel);
```

#### Example 2:

Input Command:

```bash
-featbit -rm -ffname ff-checkout-process -ffvalue false
```

Code in the selected files:

```csharp
var user = FbUser.Builder("anonymous").Build();
var featureEnabled = _fbClient.BoolVariation("featbit-cursor-demo-v1", user, false);

if (featureEnabled == true)
{
    return CreatedAtAction(nameof(GetById), new { id = 1 }, productModel);
}

return BadRequest("Feature is not enabled");

```

Output Code:

```csharp
return CreatedAtAction(nameof(GetById), new { id = 1 }, productModel);
```

#### Example 3:

Input Command:

```bash
-featbit -rm -ffname ff-checkout-process -ffvalue false
```

Code in the selected files:

```csharp
private readonly IFbClient _fbClient;
private readonly FbUser _user;

public ProductController(IFbClient fbClient)
{
    _fbClient = fbClient;
    _user = FbUser.Builder("anonymous").Build();
}

[HttpPost]
public IActionResult Create([FromBody] object productModel)
{
    var featureEnabled = _fbClient.BoolVariation("featbit-cursor-demo-v1", _user, false);
    if (featureEnabled == true)
    {
        return CreatedAtAction(nameof(GetById), new { id = 1 }, productModel);
    }
    return null;
}
```

Output Code:

```csharp
public ProductController()
{
}

[HttpPost]
public IActionResult Create([FromBody] object productModel)
{
    return CreatedAtAction(nameof(GetById), new { id = 1 }, productModel);
}
```

#### Example 4:

Input Command:

```bash
-featbit -rm -ffname ff-checkout-process -ffvalue false
```

Code in the selected files:

```csharp
public bool Create(int id)
{
    var getFromDbV2 = _fbClient.BoolVariation("get-from-db-v2", _user, false);
    return UpsertToDb(getFromDbV2)
}

public bool UpsertToDb(bool getFromDbV2)
{
    if(getFromDbV2 == true)
    {
        return true;
    }
    else
    {
        return false
    }
}
```

Output Code:

```csharp
public bool Create(int id)
{
    return true;
}
```

